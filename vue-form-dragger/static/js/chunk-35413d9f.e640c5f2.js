(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35413d9f"],{"05fc":function(e,t,i){"use strict";var n=i("cff4"),a=i.n(n);a.a},5644:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("re-selector",{style:{width:e.width},attrs:{size:"small",clearable:"",placeholder:e.placeholder,"option-height":"300px",format:function(e){return e.username+" / "+(1===e.status?"生效":"失效")},value:"id",label:"name",columns:e.columns,data:{url:"basic/user/limit",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"}}},scopedSlots:e._u([{key:"default",fn:function(t){return i("el-form",{attrs:{inline:"",size:"mini"}},[i("el-input",{staticStyle:{width:"100px",margin:"0 5px 0 0"},attrs:{size:"small",placeholder:"用户名称",clearable:""},model:{value:t.data.username,callback:function(i){e.$set(t.data,"username",i)},expression:"d.data.username"}}),i("el-button",{staticStyle:{height:"30px",margin:"0 5px 0 0"},attrs:{size:"mini",type:"primary"},on:{click:t.load}},[e._v("搜索")])],1)}}]),model:{value:e.userId,callback:function(t){e.userId=t},expression:"userId"}})},a=[],l={name:"UserSelector",props:{width:{type:String,default:"220px"},placeholder:String},model:{prop:"userId",event:"callback"},watch:{userId:function(e){this.$emit("callback",e)}},data:function(){this.$createElement;return{columns:[{field:"username",name:"用户名称",width:"150"},{field:"status",name:"状态",width:"60",render:function(e,t){var i=t.row;t.column;return e("el-tag",{attrs:{size:"mini",type:1===i.status?"primary":"info"}},[1===i.status?"生效":"失效"])}},{}],userId:void 0}}},o=l,r=i("2877"),s=Object(r["a"])(o,n,a,!1,null,"6daddb4b",null);t["a"]=s.exports},"593c":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"re-workflow-definition_list-container"},[i("el-form",{staticClass:"search",attrs:{inline:"",size:"mini"}},[i("el-input",{staticStyle:{width:"220px"},attrs:{size:"small",placeholder:"流程名称",clearable:""},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),i("div",{staticClass:"content"},[i("el-row",{staticClass:"btm-group"},[i("el-button",{staticStyle:{float:"left"},attrs:{size:"mini",type:"primary"},on:{click:e.load}},[e._v("搜索")]),i("el-button",{staticStyle:{float:"left"},attrs:{size:"mini",type:"success"},on:{click:e.add}},[e._v("添加")]),i("el-button",{staticStyle:{float:"left"},attrs:{size:"mini",type:"warning"},on:{click:e.edit}},[e._v("修改")]),i("el-button",{staticStyle:{float:"left"},attrs:{size:"mini",type:"info"},on:{click:e._del}},[e._v("删除")]),i("el-dropdown",{attrs:{trigger:"click"},on:{command:e.otherCommand}},[i("el-button",{staticStyle:{float:"left","margin-left":"10px"},attrs:{size:"mini",type:"primary"}},[e._v(" 其他"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"import",icon:"el-icon-plus"}},[e._v("导入")]),i("el-dropdown-item",{attrs:{command:"export",icon:"el-icon-circle-plus"}},[e._v("导出")])],1)],1)],1),i("el-row",[i("re-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ret",attrs:{tooltip:"dark",height:"calc(100vh - 320px)",fit:"",columns:e.columns,data:e.list,"row-key":"id",lazy:"",shown:"",border:"",size:"mini","check-box":""}})],1),i("el-row",{staticStyle:{"text-align":"right","padding-top":"5px"}},[e.limit.total>e.limit.size?i("el-pagination",{attrs:{small:"",background:"",layout:"prev, pager, next","current-page":e.limit.page,"page-size":e.limit.size,total:e.limit.total}}):e._e()],1)],1)],1)},a=[];i("4160"),i("ac1f"),i("841c"),i("159b"),i("99af"),i("bde3");function l(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i?e.$axios.request({method:"delete",url:e.$config.workflow_definition_delList,params:{ids:t,linkage:i}}).then((function(t){200===t.code?(e.load(),e.$alert("删除成功","提示",{type:"info"})):e.$alert("删除失败","提示",{type:"warning"})})):e.$confirm("确认删除吗?","提示").then((function(n){"confirm"===n&&e.$axios.request({method:"delete",url:e.$config.workflow_definition_delList,params:{ids:t,linkage:i}}).then((function(i){200===i.code?(e.load(),e.$alert("删除成功","提示",{type:"info"})):e.$confirm(i.msg+",是否继续?","提示",{type:"warning"}).then((function(){l(e,t,!0)})).catch((function(){}))}))}))}function o(e,t,i){e.$axios.request({method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},url:e.$config.workflow_definition_limit,data:t}).then((function(t){200===t.code?(e.list=t.data["list"],e.limit.total=t.data["total"],e.limit.page=t.data["pageNum"]):(e.list=[],e.$alert(t.msg,"消息",{type:"warning"})),i()})).catch((function(e){throw i(),e}))}var r=i("5644"),s={name:"DefinitionList",components:{UserSelector:r["a"]},data:function(){return{search:{},loading:!1,columns:[{field:"id",name:"流程ID",width:"180",align:"center"},{field:"deploymentId",name:"部署ID",align:"center",width:"60"},{field:"name",name:"流程名称",width:"130",align:"center"},{field:"key",name:"KEY",width:"100",align:"center"},{field:"category",name:"类别",width:"180"},{field:"resourceName",name:"资源名称",width:"150",align:"center"},{field:"description",name:"描述",width:"280"},{field:"appVersion",name:"应用版本",width:"70"},{field:"version",name:"发布版本",align:"center",width:"70"},{field:"suspended",name:"状态",width:"50"},{field:"engineVersion",name:"引擎版本",align:"center",width:"70"},{field:"diagramResourceName",name:"图资源名称",width:"150"},{field:"-",name:"操作",width:"120",render:this.toolbar,align:"center",fixed:"right"}],list:[],limit:{page:1,size:20,total:0}}},methods:{toolbar:function(e,t){var i=this,n=t.row;return[e("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-edit"},on:{click:function(){i.$router.push({name:"workflowViewer",params:{action:"edit",id:n.deploymentId}})}}}),e("el-button",{attrs:{size:"mini",type:"info",icon:"el-icon-delete"},on:{click:function(){l(i,n.deploymentId)}}})]},load:function(){var e=this;this.loading=!0,o(this,Object.assign(this.search,this.limit),(function(){return e.loading=!1}))},add:function(){this.$router.push({name:"workflowViewer"})},edit:function(){var e=this.$refs.ret.selection();e&&0===e.length?this.$alert("请选择行","提示",{type:"warning"}):e&&e.length>1?this.$alert("只能修改一行","提示",{type:"warning"}):this.$router.push({name:"workflowViewer",params:{action:"edit",id:e[0].deploymentId}})},_del:function(){var e=this.$refs.ret.selection();if(e&&0!==e.length){var t="";e.forEach((function(e){return t+=e.deploymentId+","})),l(this,t.substr(0,t.length-1))}else this.$alert("请选择行删除","提示",{type:"warning"})},otherCommand:function(e){this.$alert("点击指令: ".concat(e),"提示",{type:"info"})}},mounted:function(){this.load()}},c=s,d=(i("05fc"),i("2877")),u=Object(d["a"])(c,n,a,!1,null,null,null);t["default"]=u.exports},bde3:function(e,t,i){"use strict";i("4160"),i("159b");function n(e){e instanceof Array?e.forEach((function(e){return a(e)})):e instanceof Object&&a(e)}function a(e){e["creuser"]&&(e["creuser"]=null),e["moduser"]&&(e["moduser"]=null),e["deluser"]&&(datad["deluser"]=null)}var l={replace2Null:n};t["a"]=l},cff4:function(e,t,i){}}]);